<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>é›²äº•é³´è¨ºæ–­ï½œ20å•/60å•ãƒ»æ—¥æœ¬èªãƒãƒƒãƒ—ç‰ˆ</title>
  <style>
    :root{
      --bg:linear-gradient(180deg,#f6f9ff, #ffffff);
      --fg:#0f172a; --muted:#475569;
      --brand:#8f82bc;   /* ä»Šæ§˜è‰²ãƒ™ãƒ¼ã‚¹ã®ç´« */
      --accent:#6ec5ff;  /* ç©ºè‰²ãƒ™ãƒ¼ã‚¹ã®æ°´è‰² */
      --card:#ffffff; --border:#e2e8f0;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--fg); background:var(--bg)}
    .wrap{max-width:920px;margin:0 auto;padding:16px 16px 96px}
    header{display:flex;gap:12px;align-items:flex-start;justify-content:space-between;margin:8px 0 16px}
    h1{font-size:20px;margin:0}
    .muted{color:var(--muted);font-size:13px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(15,23,42,0.06)}
    .card.pad{padding:16px}
    .title{font-size:16px;font-weight:700;margin:0 0 6px}
    .progress{height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}
    .progress > div{height:100%;background:var(--brand);width:0%}
    .q{padding:14px 16px;border-top:1px solid var(--border)}
    .q:first-child{border-top:none}
    .qtitle{font-size:14px;margin:0 0 10px}
    .slider{display:flex;align-items:center;gap:8px}
    input[type=range]{width:100%}
    .pill{font-size:11px;border:1px solid var(--border);padding:2px 8px;border-radius:999px;color:var(--muted)}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    .btn{appearance:none;border:none;background:var(--brand);color:#fff;padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer}
    .btn.ghost{background:#fff;color:var(--brand);border:1px solid var(--brand)}
    .btn.muted{background:#f8fafc;color:var(--muted)}
    .footer{position:fixed;left:0;right:0;bottom:0;background:rgba(255,255,255,0.98);border-top:1px solid var(--border);backdrop-filter:saturate(180%) blur(10px)}
    .footer .inner{max-width:920px;margin:0 auto;padding:10px 16px;display:flex;gap:8px;align-items:center;justify-content:space-between}
    .result{padding:16px}
    .result h2{font-size:22px;margin:0 0 8px}
    .badge{display:inline-block;background:#eef2ff;color:#3730a3;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;margin-right:6px}
    ul{margin:6px 0 10px 20px}
    .disclaimer{font-size:12px;color:var(--muted)}
    .warn{color:#dc2626;font-size:13px;margin-top:6px}
    .highlight{border:2px solid #ef4444;animation:blink 1s infinite alternate}
    @keyframes blink{from{background:#fff}to{background:#fee2e2}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>é›²äº•é³´è¨ºæ–­ï¼ˆ20å•/60å•ãƒ»æ—¥æœ¬èªãƒãƒƒãƒ—ç‰ˆï¼‰</h1>
        <div class="muted">ã‚€ãšã‹ã—ã„ç†è«–ã¯è£å´ã¸ã€‚æ—¥å¸¸ã®è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã®ç«‹ã¡ä½ç½®ã¨ç›¸æ€§ãŒã‚ã‹ã‚‹ã€‚å›ç­”ã¯ãƒ–ãƒ©ã‚¦ã‚¶å†…ã®ã¿ã§å‡¦ç†ã•ã‚Œã¾ã™ã€‚</div>
      </div>
      <div class="row">
        <button class="btn ghost" id="mode20">20å•ç‰ˆï¼ˆã‚µã‚¯ãƒƒã¨ï¼‰</button>
        <button class="btn" id="mode60">60å•ç‰ˆï¼ˆã˜ã£ãã‚Šï¼‰</button>
      </div>
    </header>

    <section class="card pad" id="progressCard">
      <div class="title">é€²è¡ŒçŠ¶æ³</div>
      <div class="progress" aria-label="progress"><div id="bar"></div></div>
      <div class="muted" id="count">0/0 å›ç­”ï¼ˆ0%ï¼‰</div>
      <div id="warnMsg" class="warn"></div>
    </section>

    <section class="card" id="questionCard"></section>

    <section class="card result" id="resultCard" style="display:none"></section>

    <div class="footer">
      <div class="inner">
        <div class="muted">ãƒ¢ãƒ¼ãƒ‰ï¼š<span id="modeLabel">20å•ç‰ˆ</span></div>
        <div class="row">
          <button class="btn ghost" id="showSimple">ã‚·ãƒ³ãƒ—ãƒ«è¡¨ç¤º</button>
          <button class="btn" id="showDetail">è©³ç´°è¡¨ç¤º</button>
          <button class="btn ghost" id="copyBtn">çµæœã‚’ã‚³ãƒ”ãƒ¼</button>
          <button class="btn" id="calcBtn">çµæœã‚’è¡¨ç¤º</button>
        </div>
      </div>
    </div>

    <section class="card pad" style="margin-top:12px">
      <div class="title">ã”æ¡ˆå†…</div>
      <div class="disclaimer">
        æœ¬è¨ºæ–­ã¯ãƒ¦ãƒ³ã‚°å¿ƒç†å­¦ç³»ã‚¿ã‚¤ãƒ—è«–ãŠã‚ˆã³ã‚½ã‚·ã‚ªãƒ‹ã‚¯ã‚¹åŸå…¸ã®è¦–ç‚¹ã«ã€Œç€æƒ³ã‚’å¾—ã¦ã€é›²äº•é³´ãŒå†è¨­è¨ˆã—ãŸã€æ—¥æœ¬èªç‰¹åŒ–ãƒ»VTuber/é…ä¿¡å‘ã‘ã®ã‚ªãƒªã‚¸ãƒŠãƒ«è¨ºæ–­ã§ã™ã€‚<br>
        å…¬å¼ã®ã‚½ã‚·ã‚ªãƒ‹ã‚¯ã‚¹/MBTI/16Personalities ç­‰ã¨ã¯é–¢ä¿‚ãŒã‚ã‚Šã¾ã›ã‚“ã€‚åŒ»ç™‚çš„ãƒ»è‡¨åºŠçš„è©•ä¾¡ã‚’è¡Œã†ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å›ç­”ã¯ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å‡¦ç†ã•ã‚Œã€ã‚µãƒ¼ãƒé€ä¿¡ã¯ã—ã¾ã›ã‚“ã€‚
      </div>
    </section>
  </div>

<script>
/* ===================== è³ªå•ãƒªã‚¹ãƒˆ ===================== */
/* 20å•ç‰ˆï¼ˆã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ï¼‰ */
const Q20 = [
  // E/I
  {id:'q1', text:'äºˆå®šã®ãªã„ä¼‘æ—¥ã€äººã¨ä¼šã†ç´„æŸãŒå…¥ã‚‹ã¨ã‚€ã—ã‚å…ƒæ°—ãŒå‡ºã‚‹ã€‚', axis:'EI', polarity:+1},
  {id:'q2', text:'åˆå¯¾é¢ã®å ´ã§ã‚‚ã€è‡ªåˆ†ã‹ã‚‰è©±é¡Œã‚’åˆ‡ã‚Šå‡ºã™ã“ã¨ãŒå¤šã„ã€‚', axis:'EI', polarity:+1},
  {id:'q3', text:'é•·æ™‚é–“ã®ç¤¾äº¤ã®å¾Œã¯ã€ä¸€äººã®æ™‚é–“ã§å……é›»ã—ãªã„ã¨ã—ã‚“ã©ã„ã€‚', axis:'EI', polarity:-1},
  {id:'q4', text:'æ²ˆé»™ãŒç¶šãã¨è‡ªåˆ†ã‹ã‚‰è©±é¡Œã‚’æŠ•å…¥ã—ãŸããªã‚‹ã€‚', axis:'EI', polarity:+1},
  // N/S
  {id:'q5', text:'ä¼šè©±ã®ä¸­ã§ã€Œã“ã®å…ˆã“ã†ã„ã†å±•é–‹ã‚‚ã‚ã‚‹ã‹ã‚‚ã€ã¨æƒ³åƒã™ã‚‹ã“ã¨ãŒå¤šã„ã€‚', axis:'NS', polarity:+1},
  {id:'q6', text:'æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„æœªæ¥ã®å¯èƒ½æ€§ã‚’è€ƒãˆã‚‹ã®ãŒå¥½ãã ã€‚', axis:'NS', polarity:+1},
  {id:'q7', text:'é“å…·ã‚„UIã®è§¦ã‚Šå¿ƒåœ°ã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã®è‰¯ã—æ‚ªã—ã«æ•æ„Ÿã ã€‚', axis:'NS', polarity:-1},
  {id:'q8', text:'ç’°å¢ƒã®éŸ³ã‚„åŒ‚ã„ã€æ˜ã‚‹ã•ã®å¿«ãƒ»ä¸å¿«ã§æ°—åˆ†ã‚„é›†ä¸­åŠ›ãŒå¤‰ã‚ã‚‹ã€‚', axis:'NS', polarity:-1},
  // T/F
  {id:'q9', text:'æ„è¦‹ã®å¯¾ç«‹ã§ã¯ã€ã¾ãšæ ¹æ‹ ã‚„ãƒ«ãƒ¼ãƒ«ã®æ•´åˆæ€§ã‚’ç¢ºèªã—ãŸã„ã€‚', axis:'TF', polarity:+1},
  {id:'q10', text:'èª°ã‹ã®å¤±æ•—ã«ç›´é¢ã™ã‚‹ã¨ã€åŸå› åˆ†æã‚’å„ªå…ˆã—ãŒã¡ã ã€‚', axis:'TF', polarity:+1},
  {id:'q11', text:'ä¼šè­°ã§ã¯çµè«–ã®å¦¥å½“æ€§ã‚ˆã‚Šã‚‚ã€å½“äº‹è€…ã®æ°—æŒã¡ã®ç´å¾—ã‚’é‡è¦–ã™ã‚‹ã€‚', axis:'TF', polarity:-1},
  {id:'q12', text:'ãƒãƒ¼ãƒ ã®ç©ºæ°—ã‚„é›°å›²æ°—ã®å¤‰åŒ–ã«æ•æ„Ÿã ã€‚', axis:'TF', polarity:-1},
  // J/P
  {id:'q13', text:'é€±ã®åˆã‚ã«ã€ã–ã£ãã‚Šã§ã‚‚äºˆå®šãŒåŸ‹ã¾ã£ã¦ã„ã‚‹ã¨å®‰å¿ƒã§ãã‚‹ã€‚', axis:'JP', polarity:+1},
  {id:'q14', text:'ç· åˆ‡ãŒã‚ã‚‹ã¨ãã¯å‰å€’ã—ã§é€²ã‚ã¦â€œä½™ç™½â€ã‚’ä½œã‚ŠãŸã„ã€‚', axis:'JP', polarity:+1},
  {id:'q15', text:'æ—…å…ˆã§ã¯è¡Œãå½“ãŸã‚Šã°ã£ãŸã‚Šã§æ°—åˆ†æ¬¡ç¬¬ã«å‹•ãã®ãŒå¥½ãã ã€‚', axis:'JP', polarity:-1},
  {id:'q16', text:'æ–°ã—ã„æƒ…å ±ãŒå…¥ã‚Œã°ã€ç›´å‰ã§ã‚‚è¨ˆç”»ã‚’å¤‰ãˆã‚‹ã®ã«æŠµæŠ—ãŒãªã„ã€‚', axis:'JP', polarity:-1},
  // Elements
  {id:'q17', text:'å‡ºæ¥äº‹ã‚’ã€Œå§‹ã¾ã‚Šã‹ã‚‰ä»Šã€ãã—ã¦ã“ã‚Œã‹ã‚‰ã€ã«çµã³ã¤ã‘ã¦è€ƒãˆã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚', axis:'Ni', polarity:+1},
  {id:'q18', text:'èª°ã‹ã®éš ã‚ŒãŸæ‰èƒ½ã‚„å¯èƒ½æ€§ã‚’ç™ºè¦‹ã™ã‚‹ã®ãŒå¾—æ„ã ã€‚', axis:'Ne', polarity:+1},
  {id:'q19', text:'æ•°å­—ã‚„å®Ÿç¸¾ãªã©ã€Œçµæœãƒ™ãƒ¼ã‚¹ã®è©±ã€ãŒã‚ã‚‹ã¨å®‰å¿ƒã§ãã‚‹ã€‚', axis:'Te', polarity:+1},
  {id:'q20', text:'ç©ºæ°—ãŒæ²ˆã‚€ã¨ã€Œãªã‚“ã¨ã‹ç››ã‚Šä¸Šã’ãŸã„ã€ã¨æ„Ÿã˜ã‚‹ã€‚', axis:'Fe', polarity:+1},
];

/* 60å•ç‰ˆï¼ˆè©³ç´°ãƒ»æ”¹è‰¯æ¸ˆã¿ï¼‰ */
const Q60 = [
  // EI
  {id:'q1', text:'äºˆå®šã®ãªã„ä¼‘æ—¥ã€äººã¨ä¼šã†ç´„æŸãŒå…¥ã‚‹ã¨ã‚€ã—ã‚å…ƒæ°—ãŒå‡ºã‚‹ã€‚', axis:'EI', polarity:+1},
  {id:'q2', text:'ä¼šè­°å¾Œã¯å¤§äººæ•°ã¨é›‘è«‡ã™ã‚‹ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå›å¾©ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚', axis:'EI', polarity:+1},
  {id:'q3', text:'åˆå¯¾é¢ã®å ´ã§ã‚‚ã€è‡ªåˆ†ã‹ã‚‰è©±é¡Œã‚’åˆ‡ã‚Šå‡ºã™ã“ã¨ãŒå¤šã„ã€‚', axis:'EI', polarity:+1},
  {id:'q4', text:'é‡è¦ãªæ±ºæ–­ã¯ã€ã¾ãšé ­ã®ä¸­ã§æ•´ç†ã—ã¦ã‹ã‚‰å£ã«å‡ºã™æ–¹ã ã€‚', axis:'EI', polarity:-1},
  {id:'q5', text:'é•·æ™‚é–“ã®ç¤¾äº¤ã®å¾Œã¯ã€ä¸€äººã®æ™‚é–“ã§å……é›»ã—ãªã„ã¨ã—ã‚“ã©ã„ã€‚', axis:'EI', polarity:-1},
  {id:'q6', text:'æ²ˆé»™ãŒç¶šãã¨è‡ªåˆ†ã‹ã‚‰è©±é¡Œã‚’æŠ•å…¥ã—ãŸããªã‚‹ã€‚', axis:'EI', polarity:+1},
  // NS
  {id:'q7', text:'ä¼šè©±ã®ä¸­ã§ã€Œã“ã®å…ˆã“ã†ã„ã†å±•é–‹ã‚‚ã‚ã‚‹ã‹ã‚‚ã€ã¨æƒ³åƒã™ã‚‹ã“ã¨ãŒå¤šã„ã€‚', axis:'NS', polarity:+1},
  {id:'q8', text:'æ—…è¡Œè¨ˆç”»ã¯æŒã¡ç‰©ã‚„æ‰‹é †ã‚ˆã‚Šâ€œä½“é¨“ã®ãƒ†ãƒ¼ãƒâ€ã‹ã‚‰è€ƒãˆã‚‹ã€‚', axis:'NS', polarity:+1},
  {id:'q9', text:'æ–°è£½å“ã‚’è¦‹ã‚‹ã¨ä»Šå¾Œã®å¿œç”¨ã‚„æœªæ¥åƒã‚’æƒ³åƒã™ã‚‹ã®ãŒå¥½ãã ã€‚', axis:'NS', polarity:+1},
  {id:'q10', text:'ä½œæ¥­ã§ã¯æ‰‹è§¦ã‚Šãƒ»åŒ‚ã„ãƒ»éŸ³ãªã©äº”æ„Ÿã®å¿ƒåœ°ã‚ˆã•ã‚’é‡è¦–ã™ã‚‹ã€‚', axis:'NS', polarity:-1},
  {id:'q11', text:'æŠ½è±¡çš„ãªãŸã¨ãˆè©±ã‚ˆã‚Šã‚‚å…·ä½“ä¾‹ã‚„æ•°å€¤ã®æ–¹ãŒè…¹è½ã¡ã™ã‚‹ã€‚', axis:'NS', polarity:-1},
  {id:'q12', text:'ä¸€è¦‹ãƒãƒ©ãƒãƒ©ãªå‡ºæ¥äº‹ã®ä¸­ã«ã€Œå…±é€šç‚¹ã‚„ã¤ãªãŒã‚Šã€ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒå¥½ãã ã€‚', axis:'NS', polarity:+1},
  {id:'q13', text:'é“å…·ã‚„UIã®è§¦ã‚Šå¿ƒåœ°ã«æ•æ„Ÿã§è‰¯ã—æ‚ªã—ãŒæ°—ã«ãªã‚‹ã€‚', axis:'NS', polarity:-1},
  {id:'q14', text:'ç’°å¢ƒã®éŸ³ã‚„åŒ‚ã„ã€æ˜ã‚‹ã•ã®å¿«ãƒ»ä¸å¿«ã§æ°—åˆ†ã‚„é›†ä¸­åŠ›ãŒå¤‰ã‚ã‚‹ã€‚', axis:'NS', polarity:-1},
  // TF
  {id:'q15', text:'æ„è¦‹ã®å¯¾ç«‹ã§ã¯ã€ã¾ãšæ ¹æ‹ ã‚„ãƒ«ãƒ¼ãƒ«ã®æ•´åˆæ€§ã‚’ç¢ºèªã—ãŸã„ã€‚', axis:'TF', polarity:+1},
  {id:'q16', text:'èª°ã‹ã®å¤±æ•—ã«ç›´é¢ã™ã‚‹ã¨ã€æ„Ÿæƒ…ã‚ˆã‚ŠåŸå› åˆ†æãŒå…ˆã«ãªã‚ŠãŒã¡ã ã€‚', axis:'TF', polarity:+1},
  {id:'q17', text:'ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯æ­£ç¢ºã•ãŒæœ€å„ªå…ˆã§å¤šå°‘ãã¤ãã¦ã‚‚æ§‹ã‚ãªã„ã€‚', axis:'TF', polarity:+1},
  {id:'q18', text:'ç‰©äº‹ã®åˆ¤æ–­ã§ã€ãã®å ´ã®äººé–“é–¢ä¿‚ã®é›°å›²æ°—ã‚’å¼·ãè€ƒæ…®ã™ã‚‹ã€‚', axis:'TF', polarity:-1},
  {id:'q19', text:'ä¼šè­°ã§ã¯çµè«–ã®å¦¥å½“æ€§ã‚ˆã‚Šå½“äº‹è€…ã®æ°—æŒã¡ã®ç´å¾—ã‚’é‡è¦–ã™ã‚‹ã€‚', axis:'TF', polarity:-1},
  {id:'q20', text:'è«–æ‹ ãŒå¼±ã„åˆæ„ã¯é•·ç¶šãã—ãªã„ã¨æ„Ÿã˜ã‚‹ã€‚', axis:'TF', polarity:+1},
  {id:'q21', text:'äººã‚’å‚·ã¤ã‘ãã†ãªæ­£è«–ã¯è¨€ã„å›ã—ã‚’å·¥å¤«ã™ã‚‹ã€‚', axis:'TF', polarity:-1},
  {id:'q22', text:'ãƒãƒ¼ãƒ ã®ç©ºæ°—ã‚„æ¸©åº¦æ„Ÿã®å¤‰åŒ–ã«æ•æ„Ÿã ã€‚', axis:'TF', polarity:-1},
  // JP
  {id:'q23', text:'é€±ã®åˆã‚ã«ã€ã–ã£ãã‚Šã§ã‚‚äºˆå®šãŒåŸ‹ã¾ã£ã¦ã„ã‚‹ã¨å®‰å¿ƒã§ãã‚‹ã€‚', axis:'JP', polarity:+1},
  {id:'q24', text:'ç· åˆ‡ãŒã‚ã‚‹ã¨ãã¯å‰å€’ã—ã§é€²ã‚ã¦â€œä½™ç™½â€ã‚’ä½œã‚ŠãŸã„ã€‚', axis:'JP', polarity:+1},
  {id:'q25', text:'æ—…å…ˆã§ã¯è¡Œãå½“ãŸã‚Šã°ã£ãŸã‚Šã§æ°—åˆ†æ¬¡ç¬¬ã«å‹•ãã®ãŒå¥½ãã ã€‚', axis:'JP', polarity:-1},
  {id:'q26', text:'ç›´å‰ã«ã‚ˆã‚Šè‰¯ã„æ¡ˆãŒå‡ºãŸã‚‰è¨ˆç”»ã‚’å¤§ããå¤‰ãˆã‚‹ã“ã¨ã«æŠµæŠ—ãŒãªã„ã€‚', axis:'JP', polarity:-1},
  {id:'q27', text:'æœºã‚„ãƒ•ã‚©ãƒ«ãƒ€ã¯ç”¨é€”ã”ã¨ã«ä½“ç³»çš„ã«æ•´ç†ã—ã¦ãŠããŸã„ã€‚', axis:'JP', polarity:+1},
  {id:'q28', text:'ToDoã¯æœŸé™ã¨å„ªå…ˆåº¦ã§æ•´ç†ã—ã¦ãŠããŸã„ã€‚', axis:'JP', polarity:+1},
  {id:'q29', text:'æ–°æƒ…å ±ãŒå…¥ã‚Œã°æ–¹é‡å¤‰æ›´ã‚‚ã‚¹ãƒ”ãƒ¼ãƒ‡ã‚£ã«è¡Œã†ã€‚', axis:'JP', polarity:-1},
  {id:'q30', text:'äºˆå®šã¯ç©ºç™½ã‚’æ®‹ã—ã¦è‡ªç”±åº¦ã‚’ç¢ºä¿ã—ãŸã„ã€‚', axis:'JP', polarity:-1},
  // Elements Ni/Ne/Si/Se/Ti/Te/Fi/Fe
  {id:'q31', text:'ç›®ã®å‰ã®å‡ºæ¥äº‹ã‹ã‚‰ã€Œæœªæ¥ã®å±•é–‹ã€ã‚’äºˆæ¸¬ã—ã¦ã—ã¾ã†ã“ã¨ãŒå¤šã„ã€‚', axis:'Ni', polarity:+1},
  {id:'q32', text:'å‡ºæ¥äº‹ã‚’ã€Œå§‹ã¾ã‚Šã‹ã‚‰ä»Šã€ãã—ã¦ã“ã‚Œã‹ã‚‰ã€ã«çµã³ã¤ã‘ã¦è€ƒãˆã‚‹ã€‚', axis:'Ni', polarity:+1},
  {id:'q33', text:'ç‰©äº‹ã‚’è¦‹ãŸã¨ãã€Œã“ã‚“ãªå±•é–‹ã‚‚ã‚ã‚‹ã‹ã‚‚ã€ã¨æ¬¡ã€…ã«æ€ã„ã¤ãã€‚', axis:'Ne', polarity:+1},
  {id:'q34', text:'èª°ã‹ã®éš ã‚ŒãŸæ‰èƒ½ã‚„å¯èƒ½æ€§ã‚’ç™ºè¦‹ã™ã‚‹ã®ãŒå¾—æ„ã ã€‚', axis:'Ne', polarity:+1},
  {id:'q35', text:'éƒ¨å±‹ã®æ˜ã‚‹ã•ã‚„æ¸©åº¦ãŒå°‘ã—é•ã†ã ã‘ã§é›†ä¸­åŠ›ãŒå¤‰ã‚ã‚‹ã€‚', axis:'Si', polarity:+1},
  {id:'q36', text:'ç¾å‘³ã—ã„é£Ÿäº‹ã‚„å¿ƒåœ°ã‚ˆã„ç’°å¢ƒã«å¼·ãå¹¸ã›ã‚’æ„Ÿã˜ã‚‹ã€‚', axis:'Si', polarity:+1},
  {id:'q37', text:'å ´ã®ä¸»å°æ¨©ã‚’æ¡ã‚‰ãªã„ã¨è½ã¡ç€ã‹ãªã„ã“ã¨ãŒã‚ã‚‹ã€‚', axis:'Se', polarity:+1},
  {id:'q38', text:'ç›¸æ‰‹ãŒæŠ¼ã—ã«å¼±ã„ã¨æ„Ÿã˜ãŸã‚‰ã€è‡ªç„¶ã¨ã“ã¡ã‚‰ãŒãƒªãƒ¼ãƒ‰ã—ã¦ã—ã¾ã†ã€‚', axis:'Se', polarity:+1},
  {id:'q39', text:'è¨€è‘‰ã‚„ãƒ«ãƒ¼ãƒ«ã®å®šç¾©ãŒæ›–æ˜§ã ã¨ãƒ¢ãƒ¤ãƒ¢ãƒ¤ã™ã‚‹ã€‚', axis:'Ti', polarity:+1},
  {id:'q40', text:'è¤‡é›‘ãªä»•çµ„ã¿ã‚’æ•´ç†ã—ã¦ç†è§£ã™ã‚‹ã®ãŒå¥½ãã ã€‚', axis:'Ti', polarity:+1},
  {id:'q41', text:'æ•°å­—ã‚„å®Ÿç¸¾ãªã©ã€Œçµæœãƒ™ãƒ¼ã‚¹ã®è©±ã€ãŒã‚ã‚‹ã¨å®‰å¿ƒã§ãã‚‹ã€‚', axis:'Te', polarity:+1},
  {id:'q42', text:'åŠ¹ç‡çš„ã«å‹•ã‘ã‚‹ä»•çµ„ã¿ã‚’è€ƒãˆã‚‹ã®ãŒå¾—æ„ã ã€‚', axis:'Te', polarity:+1},
  {id:'q43', text:'èª°ã‹ã¨ã®é–¢ä¿‚ã®ã€Œè¿‘ã•ã‚„è·é›¢æ„Ÿã€ã‚’æ•æ„Ÿã«æ„è­˜ã—ã¦ã„ã‚‹ã€‚', axis:'Fi', polarity:+1},
  {id:'q44', text:'ç›¸æ‰‹ã®ä¾¡å€¤è¦³ã‚„ä¿¡å¿µã‚’å°Šé‡ã™ã‚‹ã“ã¨ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã€‚', axis:'Fi', polarity:+1},
  {id:'q45', text:'é›†ã¾ã‚Šã§å ´ãŒç››ã‚Šä¸ŠãŒã‚‹ã¨ã€è‡ªåˆ†ã‚‚è‡ªç„¶ã¨ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãŒä¸ŠãŒã‚‹ã€‚', axis:'Fe', polarity:+1},
  {id:'q46', text:'ç©ºæ°—ãŒæ²ˆã‚€ã¨ã€Œãªã‚“ã¨ã‹ç››ã‚Šä¸Šã’ãŸã„ã€ã¨æ„Ÿã˜ã‚‹ã€‚', axis:'Fe', polarity:+1},
  // è£œåŠ©12
  {id:'q47', text:'ä¼ç”»ã§ã¯â€œã‚³ãƒ³ã‚»ãƒ—ãƒˆâ€ã‚’æœ€åˆã«å›ºã‚ãŸã„ã€‚', axis:'NS', polarity:+1},
  {id:'q48', text:'å³ã—ã‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã§ã‚‚å½¹ç«‹ã¤ãªã‚‰æ­“è¿ã•ã‚Œã‚‹ã€‚', axis:'TF', polarity:+1},
  {id:'q49', text:'æ—…å…ˆã§ã¯ç¾åœ°ã®æ°—åˆ†ã‚„å¤©æ°—ã§äºˆå®šã‚’æ±ºã‚ã‚‹ã“ã¨ãŒå¤šã„ã€‚', axis:'JP', polarity:-1},
  {id:'q50', text:'æœã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ãŒæ•´ã£ã¦ã„ã‚‹ã¨å®‰å¿ƒã§ãã‚‹ã€‚', axis:'JP', polarity:+1},
  {id:'q51', text:'è¤‡æ•°æ¡ˆä»¶ã‚’åŒæ™‚ã«å›ã™ãŸã‚ã®ä»•çµ„ã¿åŒ–ãŒå¥½ãã ã€‚', axis:'JP', polarity:+1},
  {id:'q52', text:'æ–°ã—ã„ä½“é¨“ã‚’ã™ã‚‹ã¨ãã€ã¾ãšã€Œé›°å›²æ°—ã€ã‚’å¤§äº‹ã«ã™ã‚‹ã€‚', axis:'Fi', polarity:+1},
  {id:'q53', text:'ç›¸æ‰‹ã®ä¾¡å€¤è¦³ã‚„èƒŒæ™¯ã‚’ç†è§£ã—ã¦ã‹ã‚‰çµè«–ã‚’å‡ºã—ãŸã„ã€‚', axis:'Fi', polarity:+1},
  {id:'q54', text:'ç†±æ„ã‚„ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ç›´çµã™ã‚‹ã¨è€ƒãˆã‚‹ã€‚', axis:'Fe', polarity:+1},
  {id:'q55', text:'æƒ³åƒã®ä¸­ã§ã€Œã¾ã èµ·ãã¦ã„ãªã„å ´é¢ã€ã‚’é®®æ˜ã«æãã“ã¨ãŒã‚ã‚‹ã€‚', axis:'Ni', polarity:+1},
  {id:'q56', text:'æˆæœãŒæ•°å­—ã§è¦‹ãˆã‚‹ã¨ã‚„ã‚‹æ°—ãŒå‡ºã‚‹ã€‚', axis:'Te', polarity:+1},
  {id:'q57', text:'ä»²é–“ãŒæ¥½ã—ãã†ã«ã—ã¦ã„ã‚‹ã¨ã€è‡ªåˆ†ã‚‚è‡ªç„¶ã¨æ¥½ã—ããªã‚‹ã€‚', axis:'Fe', polarity:+1},
  {id:'q58', text:'ã€Œãƒ«ãƒ¼ãƒ«ãŒå®ˆã‚‰ã‚Œã¦ã„ã‚‹ã‹ã€ãŒæ°—ã«ãªã‚‹ã€‚', axis:'Ti', polarity:+1},
  {id:'q59', text:'äººã¨è©±ã™ã‚ˆã‚Šã€ä¸€äººã§è€ƒãˆã‚‹æ™‚é–“ã®æ–¹ãŒã‚¢ã‚¤ãƒ‡ã‚¢ãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚', axis:'EI', polarity:-1},
  {id:'q60', text:'è‡ªç”±åº¦ã‚ˆã‚Šã‚‚ç§©åºã‚„å®‰å®šã‚’å„ªå…ˆã—ãŸã„ã€‚', axis:'JP', polarity:+1},
];

/* ===================== ã‚¿ã‚¤ãƒ—å®šç¾© ===================== */
const TYPES = {
  IEE:{name:'ã‚¢ã‚¤ãƒ‡ã‚¢å†’é™ºå®¶', cluster:'ã‚¢ã‚¤ãƒ‡ã‚¢ãƒãƒ³å‹', perspective:'ã‚¢ã‚¤ãƒ‡ã‚¢è¦–ç‚¹', quadra:'Delta'},
  IEI:{name:'å¤¢è¦‹ã‚‹å…±æ„Ÿè€…', cluster:'å¤¢èªã‚Šå‹', perspective:'ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯è¦–ç‚¹', quadra:'Beta'},
  EIE:{name:'ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¼”å‡ºå®¶', cluster:'ç››ã‚Šä¸Šã’å½¹å‹', perspective:'ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯è¦–ç‚¹', quadra:'Beta'},
  EII:{name:'ãŠäººå¥½ã—ä»²è£å½¹', cluster:'ç™’ã—å‹', perspective:'èª¿å’Œè¦–ç‚¹', quadra:'Delta'},
  ILE:{name:'ã²ã‚‰ã‚ãç™ºæ˜å®¶', cluster:'ã‚¢ã‚¤ãƒ‡ã‚¢ãƒãƒ³å‹', perspective:'ã‚¢ã‚¤ãƒ‡ã‚¢è¦–ç‚¹', quadra:'Alpha'},
  LII:{name:'ç†å±ˆãƒã‚¹ã‚¿ãƒ¼', cluster:'å‚è¬€å‹', perspective:'ãƒ«ãƒ¼ãƒ«è¦–ç‚¹', quadra:'Alpha'},
  LIE:{name:'æˆ¦ç•¥ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼', cluster:'å‚è¬€å‹', perspective:'ã‚¢ã‚¤ãƒ‡ã‚¢è¦–ç‚¹', quadra:'Gamma'},
  ILI:{name:'æœªæ¥äºˆå ±å£«', cluster:'å¤¢èªã‚Šå‹', perspective:'ãƒ«ãƒ¼ãƒ«è¦–ç‚¹', quadra:'Gamma'},
  ESE:{name:'å ´ã‚’ç››ã‚Šä¸Šã’éšŠé•·', cluster:'ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼å‹', perspective:'ä¸»å½¹è¦–ç‚¹', quadra:'Alpha'},
  ESI:{name:'æ­£ç¾©ã®ç•ªäºº', cluster:'å®ˆã‚Šå½¹å‹', perspective:'ãƒ«ãƒ¼ãƒ«è¦–ç‚¹', quadra:'Gamma'},
  SEE:{name:'ã‚«ãƒªã‚¹ãƒé…ä¿¡è€…', cluster:'ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼å‹', perspective:'ä¸»å½¹è¦–ç‚¹', quadra:'Gamma'},
  SLE:{name:'ã‚´ãƒ¼ã‚´ãƒ¼è¡Œå‹•æ´¾', cluster:'ç››ã‚Šä¸Šã’å½¹å‹', perspective:'ä¸»å½¹è¦–ç‚¹', quadra:'Beta'},
  SEI:{name:'ã‚†ã‚‹ãµã‚ç™’ã—å½¹', cluster:'ç™’ã—å‹', perspective:'èª¿å’Œè¦–ç‚¹', quadra:'Alpha'},
  LSE:{name:'æ®µå–ã‚Šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼', cluster:'æ®µå–ã‚Šå‹', perspective:'ãƒ«ãƒ¼ãƒ«è¦–ç‚¹', quadra:'Delta'},
  LSI:{name:'ãƒ«ãƒ¼ãƒ«ç•ªé•·', cluster:'æ®µå–ã‚Šå‹', perspective:'ãƒ«ãƒ¼ãƒ«è¦–ç‚¹', quadra:'Beta'},
  SLI:{name:'ãƒã‚¤ãƒšãƒ¼ã‚¹è·äºº', cluster:'å®ˆã‚Šå½¹å‹', perspective:'èª¿å’Œè¦–ç‚¹', quadra:'Delta'},
};

/* ===================== ç›¸æ€§ï¼ˆãƒ‡ãƒ¥ã‚¢ãƒ«/åŒã‚¯ã‚¢ãƒ‰ãƒ©/ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆï¼‰ ===================== */
const REL = {
  IEE:{dual:'ãƒã‚¤ãƒšãƒ¼ã‚¹è·äºº', same:['æ®µå–ã‚Šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼','ãŠäººå¥½ã—ä»²è£å½¹'], conflict:'ãƒ«ãƒ¼ãƒ«ç•ªé•·'},
  IEI:{dual:'ã‚´ãƒ¼ã‚´ãƒ¼è¡Œå‹•æ´¾', same:['ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¼”å‡ºå®¶','ãƒ«ãƒ¼ãƒ«ç•ªé•·'], conflict:'æ®µå–ã‚Šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼'},
  EIE:{dual:'ãƒ«ãƒ¼ãƒ«ç•ªé•·', same:['å¤¢è¦‹ã‚‹å…±æ„Ÿè€…','ã‚´ãƒ¼ã‚´ãƒ¼è¡Œå‹•æ´¾'], conflict:'ãƒã‚¤ãƒšãƒ¼ã‚¹è·äºº'},
  EII:{dual:'ã‚«ãƒªã‚¹ãƒé…ä¿¡è€…', same:['æ®µå–ã‚Šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼','ãƒã‚¤ãƒšãƒ¼ã‚¹è·äºº'], conflict:'ã‚´ãƒ¼ã‚´ãƒ¼è¡Œå‹•æ´¾'},
  ILE:{dual:'ã‚†ã‚‹ãµã‚ç™’ã—å½¹', same:['ç†å±ˆãƒã‚¹ã‚¿ãƒ¼','å ´ã‚’ç››ã‚Šä¸Šã’éšŠé•·'], conflict:'æ­£ç¾©ã®ç•ªäºº'},
  LII:{dual:'å ´ã‚’ç››ã‚Šä¸Šã’éšŠé•·', same:['ã²ã‚‰ã‚ãç™ºæ˜å®¶','ã‚†ã‚‹ãµã‚ç™’ã—å½¹'], conflict:'ã‚«ãƒªã‚¹ãƒé…ä¿¡è€…'},
  LIE:{dual:'æ­£ç¾©ã®ç•ªäºº', same:['æœªæ¥äºˆå ±å£«','ç†å±ˆãƒã‚¹ã‚¿ãƒ¼'], conflict:'ã‚†ã‚‹ãµã‚ç™’ã—å½¹'},
  ILI:{dual:'ã‚«ãƒªã‚¹ãƒé…ä¿¡è€…', same:['æ­£ç¾©ã®ç•ªäºº','æˆ¦ç•¥ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼'], conflict:'å ´ã‚’ç››ã‚Šä¸Šã’éšŠé•·'},
  ESE:{dual:'ç†å±ˆãƒã‚¹ã‚¿ãƒ¼', same:['ã²ã‚‰ã‚ãç™ºæ˜å®¶','ã‚†ã‚‹ãµã‚ç™’ã—å½¹'], conflict:'æœªæ¥äºˆå ±å£«'},
  ESI:{dual:'æˆ¦ç•¥ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼', same:['æœªæ¥äºˆå ±å£«','ç†å±ˆãƒã‚¹ã‚¿ãƒ¼'], conflict:'ã²ã‚‰ã‚ãç™ºæ˜å®¶'},
  SEE:{dual:'æœªæ¥äºˆå ±å£«', same:['æ­£ç¾©ã®ç•ªäºº','æˆ¦ç•¥ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼'], conflict:'ç†å±ˆãƒã‚¹ã‚¿ãƒ¼'},
  SLE:{dual:'å¤¢è¦‹ã‚‹å…±æ„Ÿè€…', same:['ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¼”å‡ºå®¶','ãƒ«ãƒ¼ãƒ«ç•ªé•·'], conflict:'ãŠäººå¥½ã—ä»²è£å½¹'},
  SEI:{dual:'ã²ã‚‰ã‚ãç™ºæ˜å®¶', same:['å ´ã‚’ç››ã‚Šä¸Šã’éšŠé•·','ç†å±ˆãƒã‚¹ã‚¿ãƒ¼'], conflict:'æˆ¦ç•¥ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼'},
  LSE:{dual:'å¤¢è¦‹ã‚‹å…±æ„Ÿè€…', same:['ãŠäººå¥½ã—ä»²è£å½¹','ãƒã‚¤ãƒšãƒ¼ã‚¹è·äºº'], conflict:'ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¼”å‡ºå®¶'},
  LSI:{dual:'ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¼”å‡ºå®¶', same:['å¤¢è¦‹ã‚‹å…±æ„Ÿè€…','ã‚´ãƒ¼ã‚´ãƒ¼è¡Œå‹•æ´¾'], conflict:'ã‚¢ã‚¤ãƒ‡ã‚¢å†’é™ºå®¶'},
  SLI:{dual:'ã‚¢ã‚¤ãƒ‡ã‚¢å†’é™ºå®¶', same:['æ®µå–ã‚Šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼','ãŠäººå¥½ã—ä»²è£å½¹'], conflict:'ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯æ¼”å‡ºå®¶'},
};

/* ===================== è©³ç´°ï¼ˆå¼·ã¿ãƒ»å¼±ã¿ãƒ»VTuberé©æ€§ãƒ»ç«‹ã¡ä½ç½®ï¼‰ ===================== */
const DETAIL = {
  IEI:{strength:['æ„Ÿæƒ…ã«æ•æ„Ÿã§å…±æ„ŸåŠ›ãŒé«˜ã„','èŠ¸è¡“çš„ãƒ»è¡¨ç¾çš„ãªæ´»å‹•ã«å¼·ã„','æœªæ¥åƒã‚’èªã‚Œã‚‹','é›°å›²æ°—ã‚’å’Œã¾ã›ã‚‹','å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹'],
       weak:['ç¾å®Ÿã‚¿ã‚¹ã‚¯ãŒè‹¦æ‰‹','å„ªæŸ”ä¸æ–­','ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã«å¼±ã„','å¯¾ç«‹å›é¿ã§å…ˆé€ã‚Š','å¼·ã„ä¸»å°ã«èç¸®'],
       vtuber:['ASMRãƒ»æœ—èª­ãƒ»æ­Œæ ','ä¸–ç•Œè¦³é‡è¦–ã®é›‘è«‡'], role:'é›°å›²æ°—æ‹…å½“ï¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒ©ãƒ¼'},
  IEE:{strength:['äººã¨ã®å‡ºä¼šã„ã‹ã‚‰ä¼ç”»ã‚’åºƒã’ã‚‹','æµè¡Œã«æ•æ„Ÿ','ç¤¾äº¤çš„ã§æŸ”è»Ÿ','å·»ãè¾¼ã¿åŠ›ãŒé«˜ã„','ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½œã‚ŠãŒå¾—æ„'],
       weak:['ç®¡ç†ãŒè‹¦æ‰‹','é›†ä¸­ãŒç¶šã‹ãªã„','å®Ÿè¡ŒåŠ›ä¸è¶³','èˆˆå‘³ãŒç§»ã‚Šã‚„ã™ã„','æƒ…ç†±ãŒæ‹¡æ•£ã—ã‚„ã™ã„'],
       vtuber:['å‚åŠ å‹é…ä¿¡','ä¼ç”»ã‚³ãƒ©ãƒœ','ã‚²ã‚¹ãƒˆãƒˆãƒ¼ã‚¯'], role:'ã‚¢ã‚¤ãƒ‡ã‚¢ãƒãƒ³ï¼ç¨®ã¾ãå½¹'},
  ILE:{strength:['ç™ºæƒ³åŠ›è±Šã‹','æŸ”è»Ÿã§åˆ‡æ›¿ãŒæ—©ã„','è«–ç†ã¨ç›´æ„Ÿã®ä¸¡ç«‹','èˆˆå‘³ãŒåºƒã„','é©šãã‚’ç”Ÿã‚€æ¡ˆ'],
       weak:['é£½ãã‚„ã™ã„','å®Ÿè¡Œé¢ãŒå¼±ã„','æ˜ã‚‹å‰ã«æ¬¡ã¸','ãƒªã‚¹ã‚¯ç®¡ç†ãŒç”˜ã„','åæ‹¾ä¸èƒ½ã«ãªã‚ŠãŒã¡'],
       vtuber:['æ–°ä½œå®Ÿæ³','å®Ÿé¨“ä¼ç”»'], role:'ãƒã‚¿å‡ºã—ï¼ç™ºæ˜å®¶'},
  LSE:{strength:['è¨ˆç”»é‚è¡ŒåŠ›','ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†','è²¬ä»»æ„Ÿ','å®‰å®šé€²è¡Œ','ä¿¡é ¼æ„Ÿ'],
       weak:['æŸ”è»Ÿæ€§ä¸è¶³','ç†æƒ³ã«å¼±ã„','å‹ã«ã¯ã¾ã‚Šã‚„ã™ã„','èé€šãŒåˆ©ã‹ãªã„','éŠã³å¿ƒä¸è¶³'],
       vtuber:['å®šæœŸä¼ç”»','é‹å–¶ãƒ»é€²è¡Œ','æ•´ç†ç³»é…ä¿¡'], role:'é€²è¡Œç®¡ç†ï¼è£æ–¹ãƒªãƒ¼ãƒ€ãƒ¼'},
  LSI:{strength:['æ­£ç¢ºãƒ»å‡ å¸³é¢','ç§©åºç¶­æŒ','çµ±ç‡','è²¬ä»»æ„Ÿ','å®‰å®šæ„Ÿ'],
       weak:['æŸ”è»Ÿæ€§ä¸è¶³','æ–°å¥‡æ€§ã«å¼±ã„','å³æ ¼','äººã«å³ã—ã„','æ„Ÿæƒ…ã«ç–ã„'],
       vtuber:['å¤§ä¼šé‹å–¶','æ¤œè¨¼ãƒ»ãƒ«ãƒ¼ãƒ«è§£èª¬'], role:'å¯©åˆ¤å½¹ï¼ç§©åºã®è¦'},
  EIE:{strength:['ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°','æ„Ÿæƒ…è¡¨ç¾ã§å‹•ã‹ã™','ç™ºä¿¡åŠ›','å…±æ„Ÿã‚’å¼•ãå‡ºã™','é¼“èˆåŠ›'],
       weak:['å†·é™ã•ä¸è¶³','ãƒ‰ãƒ©ãƒã‚’ç››ã‚Šã™ã','æ„Ÿæƒ…çš„ã§ç–²ã‚Œã‚„ã™ã„','è«–ç†æ‰¹åˆ¤ã«å¼±ã„','ç®¡ç†ãŒè‹¦æ‰‹'],
       vtuber:['ç‰©èªç³»å®Ÿæ³','æ¼”å‡ºä¼ç”»','æ­Œæ '], role:'æ¼”å‡ºæ‹…å½“ï¼ãƒ ãƒ¼ãƒ‰ã‚·ã‚§ã‚¤ãƒ‘ãƒ¼'},
  SLE:{strength:['å³æ–­å³æ±º','å‹‡æ•¢ãƒ»çªç ´åŠ›','æŒ‘æˆ¦çš„','å‹¢ã„ã§æµã‚Œã‚’ä½œã‚‹','ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—'],
       weak:['è¨ˆç”»ä¸è¶³','è¡çªã‚’æ‹›ãã‚„ã™ã„','å”èª¿æ€§ä½ã‚','ãƒªã‚¹ã‚¯ç®¡ç†ç”˜ã„','æ„Ÿæƒ…é…æ…®è–„ã„'],
       vtuber:['æŒ‘æˆ¦é…ä¿¡','å¯¾æˆ¦ã‚²ãƒ¼ãƒ ','ä½“å½“ãŸã‚Šä¼ç”»'], role:'åˆ‡ã‚Šè¾¼ã¿éšŠé•·ï¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ‹…å½“'},
  ESE:{strength:['æ˜ã‚‹ã•ã§å’Œã¾ã›ã‚‹','åå¿œã‚’æ‹¾ã£ã¦ç››ã‚Šä¸Šã’ã‚‹','åˆå¯¾é¢ã«å¼·ã„','é›°å›²æ°—æ´»æ€§åŒ–','ã‚µãƒ¼ãƒ“ã‚¹ç²¾ç¥'],
       weak:['è«–ç†ãŒè‹¦æ‰‹','æ„Ÿæƒ…ã«æŒ¯ã‚Šå›ã•ã‚Œã‚‹','ç¬é–“é‡è¦–','ç–²ã‚Œã‚„ã™ã„','ä¸»å°ã—ã™ãã¦å§”ç¸®ã‚’æ‹›ã'],
       vtuber:['é›‘è«‡','æ­Œæ ','ã‚¤ãƒ™ãƒ³ãƒˆMC'], role:'å¸ä¼šé€²è¡Œï¼å ´ã®ä¸­å¿ƒ'},
  SEE:{strength:['ç¬ç™ºåŠ›','ã‚«ãƒªã‚¹ãƒ','å·»ãè¾¼ã¿','è‡ªä¿¡ã‚ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹','è±ªå¿«ã•'],
       weak:['æŒç¶šåŠ›ä½ã„','ãƒ«ãƒ¼ãƒ«å«Œã„','èª¿æ•´ãŒè‹¦æ‰‹','è¡çªã‚’æã‚Œãªã„','åç™ºã—ã‚„ã™ã„'],
       vtuber:['ã‚¢ã‚¤ãƒ‰ãƒ«æ´»å‹•','æ­Œã£ã¦ã¿ãŸ','ãƒ•ã‚¡ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ'], role:'ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¿ãƒ¼ï¼ãƒ ãƒ¼ãƒ‰æ”¯é…è€…'},
  LII:{strength:['åˆ†æåŠ›','ç†è«–ä½“ç³»åŒ–','è¤‡é›‘æ•´ç†','å®¢è¦³æ€§','æ‰¹åˆ¤çš„æ€è€ƒ'],
       weak:['æ„Ÿæƒ…ã«éˆæ„Ÿ','é ‘å›º','äººé–“é–¢ä¿‚è»½è¦–','ç´°éƒ¨ã«å›ºåŸ·','ç©ºæ°—ã‚’èª­ã¿ã«ãã„'],
       vtuber:['è§£èª¬é…ä¿¡','è€ƒå¯Ÿå‹•ç”»','åˆ†ææ '], role:'å†·é™å‚è¬€ï¼ã¾ã¨ã‚å½¹'},
  LIE:{strength:['æˆ¦ç•¥æ€§','å¤§å±€è¦³','å®Ÿè¡ŒåŠ›','æˆæœå¿—å‘','ãƒ“ã‚¸ãƒã‚¹æ„Ÿè¦š'],
       weak:['å†·å¾¹ã«è¦‹ã‚‰ã‚Œã‚‹','æŸ”è»Ÿæ€§ä¸è¶³','æ„Ÿæƒ…é…æ…®å¼±ã„','çŸ­æœŸé–¢ä¿‚è»½è¦–','é€Ÿåº¦ã‚ºãƒ¬'],
       vtuber:['ä¼ç”»ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹','é•·æœŸä¼ç”»é…ä¿¡'], role:'æˆ¦ç•¥å‚è¬€ï¼ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼'},
  ILI:{strength:['æœªæ¥äºˆæ¸¬','ãƒªã‚¹ã‚¯ç®¡ç†','å†·é™ãƒ»è«–ç†','è¦³å¯Ÿçœ¼','é•·æœŸè¦–ç‚¹'],
       weak:['è¡Œå‹•ãŒé…ã„','æ‚²è¦³çš„','æŸ”è»Ÿæ€§ä¸è¶³','å³å¿œæ€§ä½ã„','æµã‚Œã«ä¹—ã‚Œãªã„'],
       vtuber:['è€ƒå¯Ÿé…ä¿¡','è§£èª¬å‹•ç”»','ã‚·ãƒŠãƒªã‚ªåˆ†æ'], role:'å†·é™å‚è¬€ï¼æœªæ¥äºˆå ±'},
  SEI:{strength:['é›°å›²æ°—ã‚’å’Œã¾ã›ã‚‹','èãä¸Šæ‰‹','å®‰å¿ƒæ„Ÿ','å¿«é©ã•é‡è¦–','æŸ”ã‚‰ã‹ã„æ¥ã—æ–¹'],
       weak:['å—ã‘èº«','æ±ºæ–­åŠ›ä¸è¶³','ä¸»å°æ€§å¼±ã„','é•·æœŸãƒ“ã‚¸ãƒ§ãƒ³å¼±ã„','æµã•ã‚Œã‚„ã™ã„'],
       vtuber:['ASMR','ç™’ã—é…ä¿¡','é›‘è«‡'], role:'é›°å›²æ°—æ‹…å½“ï¼èãå½¹'},
  EII:{strength:['èª å®Ÿãƒ»ä¿¡é ¼','ä»²è£','å…±æ„Ÿçš„','é•·æœŸé–¢ä¿‚é‡è¦–','é“å¾³å¿ƒ'],
       weak:['æ„æ€è¡¨ç¤ºå¼±ã„','ä¸»å°ã§ããªã„','é æ…®ãŒã¡','æ„Ÿæƒ…ã«æºã‚Œã‚„ã™ã„','èé€šãŒåˆ©ã‹ãªã„'],
       vtuber:['ãŠæ‚©ã¿ç›¸è«‡','å…±æ„Ÿé›‘è«‡','ä»²è£ã‚³ãƒ©ãƒœ'], role:'ä»²è£å½¹ï¼è£æ–¹ã‚µãƒãƒ¼ãƒˆ'},
  ESI:{strength:['èª å®Ÿ','å€«ç†è¦³','å®ˆè­·æ„è­˜','å¿ èª å¿ƒ','é–¢ä¿‚ç®¡ç†'],
       weak:['æ‰¹åˆ¤çš„','æŸ”è»Ÿæ€§ä¸è¶³','ä¿å®ˆçš„','ä¸»è¦³çš„åˆ¤æ–­','æŒ‘æˆ¦ã«æ¶ˆæ¥µçš„'],
       vtuber:['ãƒ«ãƒ¼ãƒ«ç³»é…ä¿¡','çœŸé¢ç›®å¯¾è«‡','ç›£ç£å½¹'], role:'å®ˆè­·è€…ï¼ç§©åºã®ç•ªäºº'},
  SLI:{strength:['ç¶™ç¶šåŠ›','è·äººæ°—è³ª','è½ã¡ç€ã','å®‰å®š','ã‚³ãƒ„ã‚³ãƒ„ä½œæ¥­'],
       weak:['æ¶ˆæ¥µçš„','ç¤¾äº¤æ€§ä½ã„','é ‘å›º','æ–°ã—ã„æŒ‘æˆ¦ã«æ¶ˆæ¥µçš„','äººé–“é–¢ä¿‚ã«ç–ã„'],
       vtuber:['ã‚‚ã®ã¥ãã‚Šé…ä¿¡','ä½œæ¥­ASMR','æ¤œè¨¼ãƒ¬ãƒ“ãƒ¥ãƒ¼'], role:'è·äººæ ï¼å®‰å®šè¦å“¡'},
};

/* ===================== è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ ===================== */
function sumAxis(axis){ return current.filter(q=>q.axis===axis).reduce((a,q)=>a+(answers[q.id]??0)*q.polarity,0); }
function computeAxes(){
  return {
    EI: sumAxis('EI'), NS: sumAxis('NS'), TF: sumAxis('TF'), JP: sumAxis('JP'),
    Ni: sumAxis('Ni'), Ne: sumAxis('Ne'), Si: sumAxis('Si'), Se: sumAxis('Se'),
    Ti: sumAxis('Ti'), Te: sumAxis('Te'), Fi: sumAxis('Fi'), Fe: sumAxis('Fe')
  };
}
function axesToMBTI(ax){
  const E = ax.EI>=0?'E':'I';
  const N = ax.NS>=0?'N':'S';
  const T = ax.TF>=0?'T':'F';
  const J = ax.JP>=0?'J':'P';
  return E+N+T+J;
}
const MBTI2SOC = { ENFJ:'EIE', ENFP:'IEE', ENTJ:'LIE', ENTP:'ILE', ESFJ:'ESE', ESFP:'SEE', ESTJ:'LSE', ESTP:'SLE',
                    INFJ:'EII', INFP:'IEI', INTJ:'LII', INTP:'ILI', ISFJ:'ESI', ISFP:'SEI', ISTJ:'LSI', ISTP:'SLI' };

function pickType(ax){
  const mb = axesToMBTI(ax);
  let key = MBTI2SOC[mb] || 'IEE';
  if(key==='IEI' && ax.Fe > ax.Ni+3) key='EIE';
  if(key==='IEE' && ax.Ti > ax.Fe+3) key='ILE';
  if(key==='LSE' && ax.Fi > ax.Te+2) key='EII';
  if(key==='LIE' && ax.Fi > ax.Te+4) key='ESI';
  if(key==='ILI' && ax.Se > ax.Ni+3) key='SEE';
  if(key==='LII' && ax.Fe > ax.Ti+3) key='ESE';
  return key;
}

/* ===================== çµæœæç”»ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æ–¹å¼ï¼‰ ===================== */
let lastResult = null;

function buildResult(){
  const ax = computeAxes();
  const key = pickType(ax);
  const t = TYPES[key]; 
  const rel = REL[key]; 
  const d = DETAIL[key];
  lastResult = {t, rel, d, ax};

  // çµæœã¯å¸¸ã«è©³ç´°è¡¨ç¤ºã§å‡ºã™
  renderResultView('detail');

  // è­¦å‘Šã‚’æ¶ˆã™
  document.getElementById('warnMsg').textContent = '';

  // ãƒœã‚¿ãƒ³çŠ¶æ…‹ã‚’è©³ç´°å´ã«æƒãˆã‚‹
  const simpleBtn = document.getElementById('showSimple');
  const detailBtn = document.getElementById('showDetail');
  simpleBtn.classList.add('muted');
  detailBtn.classList.remove('muted');
}


function renderResultView(mode){
  if(!lastResult) return;
  const {t, rel, d, ax} = lastResult;
  const html = [];
  html.push(`<div class="badge">${t.cluster}</div> <div class="badge">${t.perspective}</div> <div class="badge">ã‚¯ã‚¢ãƒ‰ãƒ©ï¼š${t.quadra}</div>`);
  html.push(`<h2>ã‚ãªãŸã¯ã€Œ${t.name}ã€</h2>`);
  if(mode==='simple'){
    html.push(`<p class="muted">å¼·ã¿ï¼š${d.strength[0]||'â€”'} ï¼ å¼±ã¿ï¼š${d.weak[0]||'â€”'}</p>`);
  } else {
    html.push(`<h3>å¼·ã¿</h3><ul>${d.strength.map(x=>`<li>${x}</li>`).join('')}</ul>`);
    html.push(`<h3>å¼±ã¿</h3><ul>${d.weak.map(x=>`<li>${x}</li>`).join('')}</ul>`);
    html.push(`<h3>ç›¸æ€§</h3><ul>
      <li><b>åˆã†ï¼ˆãƒ‡ãƒ¥ã‚¢ãƒ«ï¼‰ï¼š</b>${rel?.dual||'â€”'}</li>
      <li><b>è‰¯ã„ï¼ˆåŒã‚¯ã‚¢ãƒ‰ãƒ©ï¼‰ï¼š</b>${(rel?.same||[]).join('ãƒ»')||'â€”'}</li>
      <li><b>æ³¨æ„ï¼ˆã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆï¼‰ï¼š</b>${rel?.conflict||'â€”'}</li>
    </ul>`);
    html.push(`<h3>VTuberé©æ€§</h3><ul>${d.vtuber.map(x=>`<li>${x}</li>`).join('')}</ul>`);
    html.push(`<h3>ã‚³ãƒ©ãƒœã®ç«‹ã¡ä½ç½®</h3><p>${d.role||'â€”'}</p>`);
    html.push(`<h3>è»¸ã‚¹ã‚³ã‚¢</h3><p>E/I=${ax.EI.toFixed(1)}ã€€N/S=${ax.NS.toFixed(1)}ã€€T/F=${ax.TF.toFixed(1)}ã€€J/P=${ax.JP.toFixed(1)}</p>`);
  }
  const card = document.getElementById('resultCard');
  card.innerHTML = html.join('');
  card.style.display='block';
  card.dataset.share = `ã€é›²äº•é³´è¨ºæ–­ã€‘ã‚¿ã‚¤ãƒ—ï¼š${t.name}ï¼ˆ${t.cluster}/${t.perspective}/ã‚¯ã‚¢ãƒ‰ãƒ©=${t.quadra})`;
}

/* ===================== UIåˆ¶å¾¡ ===================== */
function tryShowResult(){
  const unanswered = current.filter(q => answers[q.id]===undefined || answers[q.id]===null);
  if(unanswered.length>0){
    const first = unanswered[0];
    const inputEl = document.getElementById(first.id);
    if(inputEl){
      const card = inputEl.closest('.q');
      if(card){ card.scrollIntoView({behavior:'smooth', block:'center'}); card.classList.add('highlight'); setTimeout(()=>card.classList.remove('highlight'),4000); }
    }
    document.getElementById('warnMsg').textContent = `âš  æœªå›ç­”ãŒã‚ã‚Šã¾ã™ï¼ˆæ®‹ã‚Š ${unanswered.length} å•ï¼‰`;
    return;
  }
  buildResult();
}

function init(){
  document.getElementById('mode20').addEventListener('click',()=>setMode('20'));
  document.getElementById('mode60').addEventListener('click',()=>setMode('60'));
  document.getElementById('calcBtn').addEventListener('click', tryShowResult);
  document.getElementById('copyBtn').addEventListener('click', ()=>{
    const txt = document.getElementById('resultCard').dataset.share || '';
    if(!txt){ alert('ã¾ãšçµæœã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„ã€‚'); return; }
    copyToClipboard(txt);
  });

  const simpleBtn = document.getElementById('showSimple');
  const detailBtn = document.getElementById('showDetail');
  simpleBtn.addEventListener('click', ()=>renderResultView('simple'));
  detailBtn.addEventListener('click', ()=>renderResultView('detail'));

  setMode('20'); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯20å•

  // ğŸ”¹ åˆæœŸçŠ¶æ…‹ã‚’ã€Œè©³ç´°è¡¨ç¤ºã€ã«å›ºå®š
  simpleBtn.classList.add('muted');
  detailBtn.classList.remove('muted');
}
document.addEventListener('DOMContentLoaded', init);


</script>
</body>
</html>
